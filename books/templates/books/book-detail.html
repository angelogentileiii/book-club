{% extends "base.html" %}

{% block title %}
    {{ book_details.volumeInfo.title|default:"Book Details" }}
{% endblock title %}

{% block body %}
    <div class="book-details-container">
        {% with book_details.volumeInfo as book_info %}
            <h1>{{ book_info.title|default:"No title available" }}</h1>
            
            <div class="book-info">
                <div class="book-cover">
                    {% if book_info.imageLinks.thumbnail %}
                        <img src="{{ book_info.imageLinks.thumbnail }}" alt="{{ book_info.title }} cover" />
                    {% endif %}
                </div>
                <div class="book-meta">
                    <p><strong>Authors:</strong> {{ book_info.authors|join:", "|default:"Unknown author" }}</p>
                    <p><strong>Published Date:</strong> {{ book_info.publishedDate|default:"N/A" }}</p>
                    <p><strong>Publisher:</strong> {{ book_info.publisher|default:"N/A" }}</p>
                </div>
            </div>
            
            <div class="book-description">
                <h2>Description:</h2>
                <p>{{ book_info.description|default:"No description available" }}</p>
            </div>
        {% endwith %}
        
        <div class="book-links">
            <p><strong>More Info:</strong> <a href="{{ book_info.infoLink }}" target="_blank">View on Google Books</a></p>
            {% if book_details.saleInfo.buyLink %}
                <p><strong>Buy Now:</strong> <a href="{{ book_details.saleInfo.buyLink }}" target="_blank">Purchase the book</a></p>
            {% endif %}
        </div>
    </div>
{% endblock body %}
