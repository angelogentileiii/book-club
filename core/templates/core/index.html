{% extends "base.html" %}
{% load custom_filters %}

{% block title %}BOOKS{% endblock title %}

{% block body %}
    <h1>BOOKS</h1>
    {% for book in fiction_books %}
        {% with book.volumeInfo as info %}
        <div>
                <h3>{{ info.title|titlecase }}</h3>
                <a href="{% url 'book-detail' book.id %}">
                    {% if info.imageLinks and info.imageLinks.thumbnail %}
                        <img src="{{ info.imageLinks.thumbnail }}" alt="{{ info.title }}" />
                    {% endif %}
                </a>
                <p>Written By: {{ info.authors|join:", "|default:"Unknown" }}</p>
                <p>First Published: {{ info.publishedDate|default:"N/A" }}</p>
                <p>{{ info.description|default:"No description available" }}</p>
        </div>
        {% endwith %}
    {% empty %}
        <h1>No books Found</h1>
    {% endfor %}
{% endblock body %}